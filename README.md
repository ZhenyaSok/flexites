

# API-приложение (REST)

Данная работа представляет собой Backend-часть тестового задания, 
реализована на основе Django REST framework. </p> 
**<h3>Функционал</h3>**
1) Создание нового пользователя(регистрация) +
2) Авторизация пользователя только по емайлу и паролю +
3) Редактирование своего профиля (изменение данных в профиле) +
4) Вывод списка всех пользователей и связанные с ними организации +
5) Вывод одного пользователя по его ID, со списком связанных с ним организаций +
5) Добавление новой организации +
6) Вывод списка всех организаций +

Дополнительный функционал, по желанию:
1) Вывод списка всех организаций(п.6 выше), со списком пользователей, которые связаны с каждой из них. +
2) Аватар/фотография пользователя, картинка должна при загрузке переименовываться [a-zA-Z0-9]. 
А так же resize(уменьшить) до размеров не больше 200х200 px. +
3) Авторизация пользователя должна происходить через JWT, передача приватных 
данных(изменения профиля), происходят через этот токен. Можно использовать отдельную библиотеку. +
4) Добавить unit-test +-

<h3>Стек проекта</h3>
sqlite3, JWT, SWAGGER, Python 3.11, Django 5.1.1, Django REST framework 3.15.2, psycopg2-binary 2.9.9.
DRF-YASG 1.21.7, Djoser 2.2.2.

*Проект содержит несколько приложений:*
- users – приложение для регистрации и авторизации пользователей проекта посредством Djoser 
(информацию по users.urls см. ниже).
- companies – приложение для работы с сущностью "Организация"(CRUD).

Авторизация и аутентификация пользователей посредством Djoser. 
Письма при авторизации (активации), изменении электронной почты, пароля, сбросе, восстановлении пароля приходит 
на указанную почту с соответствующими ссылками. 

- auth/users/ POST авторизация пользователя, 
необходимо заполнить поля: "first_name","last_name", "phone", "email","password","re_password",
на почту приходит письмо со ссылкой, после активации ссылки, пользователь становится зарегестрированным
(view для данного эндпоинта реализовано дополнительно)
- auth/users/me/ get,put,patch просмотр, редактирование пользователя 
(передается: токен, и изменяемые поля)
- auth/jwt/create/ создание токенов
- auth/jwt/refresh/
- auth/users/reset_password/ сброс пароля, 
на почту приходит письмо со ссылкой, далее из ссылки на фронте вытягиваются токен и uid, 
и вместе с данными пользователя "new_password","re_new_password" передаются на бэкенд
в POST - запросе по следующему эндпоинту (ниже)
- auth/users/reset_password_confirm/  (входные данные, метод POST: uid, token, new_password,  re_new_password)
- auth/users/set_password/ изменить пароль,(входные данные, new_password, re_new_password, current_password)

Для запуска проекта следуйте инструкциям:
### **Установка**
Для установки проекта, следуйте инструкциям ниже:

   **<h3>Для запуска в докере:</h3>**

<h3>Для запуска проекта из терминала без докера</h3>

**Создайте папку**
**Создать и активировать виртуальное окружение python3 -m venv venv venv/Scripts/activate**

**<p>1 Сделайте `git clone репозитория, чтобы получить репозиторий локально:</p>**

**<p>2. Перейдите в папку с проектом.</p>**

**<p>3. Установите заисимости;**
   ```pip install -r requirements.txt```

**<p>4. Создайте файл .env и заполните данные для настройки для проекта по примеру файла .env.example:</p>**

**<p>5. Сделайте миграции командой:**
   ```
   python manage.py makemigrations && python3 manage.py migrate
   ```
   
**<p>6. Для запуска на локальном компьютере:</p>**

Для Win -> python manage.py runserver

Для Linux -> python3 manage.py runserver



Автор проекта: Евгения Осокина

<h3>Документация проекта</h3>
находится по ссылкам:<br/>
http://127.0.0.1:8000/api/schema/>
http://127.0.0.1:8000/api/schema/swagger-ui/>
http://127.0.0.1:8000/api/schema/redoc/>



